{"ast":null,"code":"import _toConsumableArray from \"C:/Users/Mark/Documents/style_me_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:/Users/Mark/Documents/style_me_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Mark\\\\Documents\\\\style_me_react\\\\client\\\\src\\\\pages\\\\new_item.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport CloudinaryButton from \"../components/Cloudinary_Button\";\nimport ImagePlaceholder from \"../components/Image_placeholder\";\nimport Footer from \"../components/Footer\";\nimport { CloudinaryContext, Image } from \"cloudinary-react\";\nimport { fetchPhotos, openUploadWidget } from \"../utils/CloudinaryService\";\nimport API from \"../utils/API\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction New_item() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      images = _useState2[0],\n      setImages = _useState2[1];\n\n  var beginUpload = function beginUpload(tag) {\n    var uploadOptions = {\n      cloudName: \"dnx8v0ryu\",\n      tags: [tag],\n      uploadPreset: \"qvqp5qcx\"\n    };\n    openUploadWidget(uploadOptions, function (error, photos) {\n      if (!error) {\n        // console.log(photos);\n        if (photos.event === \"success\") {\n          setImages([].concat(_toConsumableArray(images), [photos.info.public_id]));\n          console.log(\"URL\", photos.info.url);\n          console.log(\"THUMBNAIL_URL\", photos.info.thumbnail_url);\n          var prediction = API.getPrediction(photos.info.url);\n          console.log(prediction);\n        }\n      } else {\n        console.log(error);\n      }\n    });\n  }; // useEffect(() => {\n  //   fetchPhotos(\"image\", setImages);\n  // }, []);\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/newitem\",\n      style: {\n        textDecoration: \"none\"\n      },\n      children: /*#__PURE__*/_jsxDEV(CloudinaryContext, {\n        cloudName: \"dnx8v0ryu\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App\",\n          children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CloudinaryButton, {\n            onClick: function onClick() {\n              return beginUpload(\"image\");\n            },\n            children: \"Add New Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ImagePlaceholder, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            children: images.map(function (i) {\n              return /*#__PURE__*/_jsxDEV(Image, {\n                publicId: i,\n                \"fetch-format\": \"auto\",\n                quality: \"auto\",\n                style: {\n                  height: \"200px\",\n                  width: \"200px\"\n                }\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(New_item, \"mOoWwfdsCKBG2MIVzAXM/MEStpE=\");\n\n_c = New_item;\nexport default New_item;\n\nvar _c;\n\n$RefreshReg$(_c, \"New_item\");","map":{"version":3,"sources":["C:/Users/Mark/Documents/style_me_react/client/src/pages/new_item.js"],"names":["React","useEffect","useState","Link","Header","CloudinaryButton","ImagePlaceholder","Footer","CloudinaryContext","Image","fetchPhotos","openUploadWidget","API","New_item","images","setImages","beginUpload","tag","uploadOptions","cloudName","tags","uploadPreset","error","photos","event","info","public_id","console","log","url","thumbnail_url","prediction","getPrediction","textDecoration","map","i","height","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport CloudinaryButton from \"../components/Cloudinary_Button\";\nimport ImagePlaceholder from \"../components/Image_placeholder\";\nimport Footer from \"../components/Footer\";\nimport { CloudinaryContext, Image } from \"cloudinary-react\";\nimport { fetchPhotos, openUploadWidget } from \"../utils/CloudinaryService\";\nimport API from \"../utils/API\";\n\nfunction New_item() {\n  const [images, setImages] = useState([]);\n\n  const beginUpload = (tag) => {\n    const uploadOptions = {\n      cloudName: \"dnx8v0ryu\",\n      tags: [tag],\n      uploadPreset: \"qvqp5qcx\",\n    };\n\n    openUploadWidget(uploadOptions, (error, photos) => {\n      if (!error) {\n        // console.log(photos);\n        if (photos.event === \"success\") {\n          setImages([...images, photos.info.public_id]);\n          console.log(\"URL\", photos.info.url);\n          console.log(\"THUMBNAIL_URL\", photos.info.thumbnail_url);\n          let prediction = API.getPrediction(photos.info.url);\n          console.log(prediction);\n        }\n      } else {\n        console.log(error);\n      }\n    });\n  };\n\n  // useEffect(() => {\n  //   fetchPhotos(\"image\", setImages);\n\n  // }, []);\n\n  return (\n    <>\n      <Link to={\"/newitem\"} style={{ textDecoration: \"none\" }}>\n        <CloudinaryContext cloudName=\"dnx8v0ryu\">\n          <div className=\"App\">\n            <Header />\n            <CloudinaryButton onClick={() => beginUpload(\"image\")}>\n              Add New Item\n            </CloudinaryButton>\n            <ImagePlaceholder />\n            <section>\n              {images.map((i) => (\n                <Image\n                  key={i}\n                  publicId={i}\n                  fetch-format=\"auto\"\n                  quality=\"auto\"\n                  style={{ height: \"200px\", width: \"200px\" }}\n                />\n              ))}\n            </section>\n            <Footer />\n          </div>\n        </CloudinaryContext>\n      </Link>\n    </>\n  );\n}\n\nexport default New_item;\n"]},"metadata":{},"sourceType":"module"}